<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>历史记录</title>
	<style>
	#div1{padding: 20px 10px; width: 270px;}
	#div1 span{width: 25px; height: 25px; line-height: 25px; margin: 5px; text-align: center; color: #fff; display: inline-block; background: red; border-radius: 100%;}
	#div1 span:nth-child(7n){background: blue;}
	</style>
	<script>
	window.onload = function(){
		var aBtn = document.getElementsByTagName('input');
		var oDiv = document.getElementById('div1');
		var iNum = 0;
		var json = [];
		aBtn[0].onclick = function(){
			
			sigle();
		}
		aBtn[1].onclick = function(){
			oDiv.innerHTML = '';
			var str = '';
			
			for(var k = 0; k < 5; k++){
				var arr = randomArr(33,7);
				for (var i = 0; i < arr.length; i++) {
					str += '<span>'+arr[i]+'</span>';
				};
				oDiv.innerHTML = str;
			}
		}
		window.onpopstate = function(ev){
			var number = ev.state;
			var html = '';
			for (var i = 0; i < number.length; i++) {
				html += '<span>'+number[i]+'</span>';
			};
			oDiv.innerHTML = html;
		}

		function sigle(){
			oDiv.innerHTML = '';
			iNum++;
			var arr = randomArr(33,7);

			for (var i = 0; i < arr.length; i++) {
				oDiv.innerHTML += '<span>'+arr[i]+'</span>';
			};
			history.pushState(arr, iNum);
		}

		function randomArr(all, now){
			var arrAll = [];
			var arrNow = [];
			for(var i = 1; i <= all; i++){
				arrAll.push(i);
			}
			for(var i = 1; i <= now; i++){
				arrNow.push(arrAll.splice(Math.floor(Math.random() * arrAll.length) ,1));
			}
			return arrNow;
		}
	}
	</script>
</head>
<body>
	<input type="button" value="随机一组">
	<input type="button" value="随机五组">
	<div id="div1"></div>
</body>
</html>
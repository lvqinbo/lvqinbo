<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>发短信</title>
	<style>
	*{
		margin: 0; padding: 0;
	}
	img{
		border: none;
		vertical-align: top;
	}
	ul{
		list-style: none;
	}
	#phone{
		width: 260px;
		margin: 20px auto;
		font: 14px/30px "微软雅黑";
	}
	img{
		width: 20px;
		border-radius: 100%;
		position: absolute;
	}
	.list{
		width: 260px;
		height: 400px;
		background: #F5F5F5;
		border: 1px solid #ddd;
		overflow-y: auto;
	}
	.list li{
		width: 180px;
		line-height: 30px;
		position: relative;
		margin-top: 10px;
	}
	.list span{
		padding: 2px 8px;
		border-radius: 6px;
 	}
	.list img{
		top: 0; 
	}
	.sty-l:before,.sty-r:before{
		content: ""; width: 0; height: 0; border: 6px solid #fff; position: absolute; top: 8px;
	}
	.sty-l:after,.sty-r:after{
		content: ""; width: 0; height: 0; border: 6px solid #fff; position: absolute; top: 8px;  z-index: 2;
	}
	.sty-l{padding-left: 40px; float: left;}
	.sty-l img{left: 10px;}
	.sty-l span{float: left; background: #fff; border: 1px solid #F0F0F0;}
	.sty-l:before{border-color: transparent #f0f0f0 transparent transparent; left: 29px;}
	.sty-l:after{border-color: transparent #fff transparent transparent; left: 30px;}
	
	.sty-r{padding-right: 40px; float: right;}
	.sty-r img{right: 10px;}
	.sty-r span{float: right; background: #63CFF2; color: #fff; border: 1px solid #4DB8DB;}
	.sty-r:before{border-color: transparent transparent transparent #4DB8DB; right: 29px;}
	.sty-r:after{border-color: transparent transparent transparent #63CFF2; right: 30px;}

	.txtbox{
		width: 220px;
		height: 35px;
		padding: 5px 5px 0 35px;
		border: 1px solid #ddd;
		border-top: none;
		position: relative;
	}
	.txtbox input{
		padding: 2px;
		font-family: "微软雅黑";
	}
	.txtbox .msg{
		width: 120px;
	}
	.txtbox .sbtn{
		width: 80px;
		margin-left: 5px;
	}
	.txtbox img{
		top: 10px;
		left: 10px;
	}

	</style>
	<script src="jquery.js"></script>
	<script>
	$(function(){
		var oTxt = $('.msg');
		var oBtn = $('.sbtn');
		var re = /\D/;
		var iBtn = true;

		$('.txtbox').find('img').on('click',function(){
			$(this).attr('src',iBtn ? 'img/2.jpg' : 'img/1.jpg');
			iBtn = !iBtn;
		})

		
		oBtn.on('click',function(){
			send();
		});
		document.onkeydown = function(ev){
			var ev = ev || event;
			if(ev.keyCode == 13 && ev.ctrlKey){
				send();
			}
		}

		function send(){
			var sClass = 'sty-l';
			var iSrc = 'img/1.jpg';

			sClass = iBtn ? 'sty-l' : 'sty-r';
			iSrc = iBtn ? 'img/1.jpg' : 'img/2.jpg';
			if( oTxt.val() == '' ){
				alert('请输入一些内容！');
			}else{

				$('.list').prepend('<li class="'+sClass+'"><img src="'+iSrc+'" alt=""><span>'+oTxt.val()+'</span></li>');
			}
			oTxt.val('');
		}
	})
	</script>
</head>
<body>
	<div id="phone">
		<ul class="list">
			
		</ul>
		<div class="txtbox">
			<img src="img/1.jpg" alt="">
			<input type="text" class="msg" placeholder="点击头像切换">
			<input type="button" value="发送" class="sbtn">
		</div>
	</div>
</body>
</html>
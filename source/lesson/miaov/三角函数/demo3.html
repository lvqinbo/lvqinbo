<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>盯着鼠标的眼睛</title>
	<style type="text/css">
	#div1{width: 180px; height: 90px; background: url(yanjing.jpg)no-repeat; position: absolute; left: 300px; top: 100px;}
	#div2{width: 5px;height: 5px; background: red; position: absolute; left:115px; top: 45px; border-radius: 50%;}
	#div3{width: 5px;height: 5px; background: red; position: absolute; left:135px; top: 45px; border-radius: 50%;}
	</style>
	<script type="text/javascript">
	window.onload = function(){
		var oDiv2 = document.getElementById('div2');
		var oDiv3 = document.getElementById('div3');

		var r = 5;
		var L2 = 115;
		var T2 = 45;
		var L3 = 135;
		var T3 = 45;

		document.onmousemove = function(ev){

			var ev = ev || event;
			change(oDiv2,ev.clientX,ev.clientY,L2,T2);
			change(oDiv3,ev.clientX,ev.clientY,L3,T3);

			function change(obj,x,y,l,t){

				var changeX = 0;
				var changeY = 0;

				var b = Math.abs( x - (obj.offsetLeft + obj.parentNode.offsetLeft) );
				var a = Math.abs( y - (obj.offsetTop + obj.parentNode.offsetTop) );

				if(x > obj.offsetLeft + obj.parentNode.offsetLeft && y < obj.offsetTop + obj.parentNode.offsetTop){
					changeX = Math.sin(Math.atan(b/a)) * r;
					changeY = Math.cos(Math.atan(b/a)) * -r;
				}else if(x > obj.offsetLeft + obj.parentNode.offsetLeft && y > obj.offsetTop + obj.parentNode.offsetTop){
					changeX = Math.sin(Math.atan(b/a)) * r;
					changeY = Math.cos(Math.atan(b/a)) * r;

				}else if(x < obj.offsetLeft + obj.parentNode.offsetLeft && y < obj.offsetTop + obj.parentNode.offsetTop){
					changeX = Math.sin(Math.atan(b/a)) * -r;
					changeY = Math.cos(Math.atan(b/a)) * -r;

				}else if(x < obj.offsetLeft + obj.parentNode.offsetLeft && y > obj.offsetTop + obj.parentNode.offsetTop){
					changeX = Math.sin(Math.atan(b/a)) * -r;
					changeY = Math.cos(Math.atan(b/a)) * r;
				}

				obj.style.left = l + changeX + 'px';
				obj.style.top = t + changeY + 'px';
			}
		}
	}
	</script>
</head>
<body>
	<div id="div1">
		<div id="div2"></div>
		<div id="div3"></div>
	</div>
</body>
</html>
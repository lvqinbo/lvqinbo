<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>substring显示隐藏</title>
	<style>
	body{margin: 0; padding: 0; font-size: 14px; font-family: "微软雅黑";}
	a{text-decoration: none;}
	#box{width: 400px; padding: 10px; margin: 20px auto; border: 10px solid #ddd;}
	#search{padding: 10px;}
	#search input{padding: 2px 5px;}
	#text strong{background: #f30; color: #fff;}
	</style>
	<script>
	window.onload = function(){

		// 展开 隐藏
		var oP = document.getElementById('text');
		var oSpan = oP.getElementsByTagName('span')[0];
		var oA = document.getElementsByTagName('a')[0];
		var html = oSpan.innerHTML;
		var iBtn = true;
		oA.onclick = function(){
			if(iBtn){
				oSpan.innerHTML = html.substring(0,40);
				oA.innerHTML = '展开';
			}else{
				oSpan.innerHTML = html.split(str).join('<strong>'+ str +'</strong>');
				oA.innerHTML = '隐藏';
			}
			iBtn = !iBtn;
		}
		// 查找
		var oSearchBox = document.getElementById('search');
		var oInp = oSearchBox.getElementsByTagName('input')[0];
		var oBtn = oSearchBox.getElementsByTagName('input')[1];
		var str = '';
		oBtn.onclick = function(){
			str = oInp.value;
			if(!str){
				alert('请输入查找的内容'); 
			}else if(html.indexOf(str) == -1){
				alert('没有找到您要查找的内容'); 
			}

			oSpan.innerHTML = html;
			oSpan.innerHTML = html.split(str).join('<strong>'+ str +'</strong>');
		}
	}
	</script>
</head>
<body>
	<div id="box">
		<div id="search">
			<input type="text">
			<input type="button" value="查找">
		</div>
		<p id="text">
			<span>习近平称赞在场的互联网大佬是互联网界推动了技术革命、行业变革的领军人物、重量级人物。他强调，中国倡导建设和平、安全、开放、合作的网络空间，主张各国制定符合自身国情的互联网公共政策。中美都是网络大国，双方拥有重要共同利益和合作空间。双方理应在相互尊重、相互信任的基础上，就网络问题开展建设性对话，打造中美合作的亮点，让网络空间更好地造福两国人民和世界人民。</span>……<a href="javascript:;">隐藏</a>>> 	
		</p>
	</div>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>修改文本框的值</title>
<style>
	p,ul{padding: 0; margin: 0;}
	ul{list-style: none;}
	a{text-decoration: none; color: #343434;}
	body{font-family: "微软雅黑";}
	#wrap{width: 500px; margin: 20px auto;}
	#wrap h3{margin: 0; padding-left: 20px; font: 400 16px/30px "微软雅黑"; color: #fff; background: #4CAF50;}
	#list{}
	#list li{height: 20px; line-height: 20px; padding: 10px 0 10px 20px; font-size: 14px; background-color: #f1f1f1; border-bottom: 1px solid #ddd; position: relative; overflow: hidden;}
	#list li > p,#list li > input{position: absolute; top: 10px;}
	#list li > p{left: 20px;}
	#list li > input{left: 20px; font-size: 12px; font-family: "微软雅黑"; display: none;}
	#list li > a.edit{right: 20px; top: 10px; position: absolute;}
	#list li > a.edit:hover{color: #f90;}
	#list li > span{right: 0; top: 5px; position: absolute; display: none;}
	#list li > span a{width: 40px; height: 20px; padding: 5px 10px; margin-right: 10px; font-size: 12px; color: #fff;  background: #8BC34A; text-align: center; display: inline-block; }
	#list li:hover{background-color: #fff;}
	#addlist{width: 100%; text-align: center; background: #ddd;}
	#addlist a{width: 100%; height: 20px; padding: 5px 0; display: block;}
	#addlist a:hover{background-color: #f90;}
</style>
<script>
	window.onload = function(){

		var oMenu = g('#list');
		var aLi = oMenu.getElementsByTagName('li');
		var addTitle = g('#addlist');
		var iBtn = true;
		var html = '';

		for (var i = 0; i < aLi.length; i++) {
			changeTitle( aLi[i] );
		};

		addTitle.onclick = function(){
			oMenu.innerHTML += '<li><p>标题名称</p><input type="text"><a href="javascript:;" class="edit">修改</a>\
				<span><a class="save" href="javascript:hideFn();">保存</a>\
					<a class="cancel" href="javascript:;">取消</a></span></li>';
		}

		function changeTitle(obj){
			var oEdit = obj.getElementsByClassName('edit')[0];
			var oTxt = obj.getElementsByTagName('p')[0];
			var oInp = obj.getElementsByTagName('input')[0];
			var oSpan = obj.getElementsByTagName('span')[0];
			var oSave = obj.getElementsByClassName('save')[0];
			var oCancel = obj.getElementsByClassName('cancel')[0];

			oInp.value = oTxt.innerHTML;

			oEdit.onclick = function(){
				if(iBtn){
					hideFn();
					showFn();
				}
				iBtn = false;
			}
			oSave.onclick = function(){
				oTxt.innerHTML = oInp.value;
				change();
				iBtn = true;
			}
			oCancel.onclick = function(){
				oInp.value = oTxt.innerHTML;
				change();
				iBtn = true;
			}
			
			function hideFn(){
				oTxt.style.display = 'none';
				oEdit.style.display = 'none';
			}
			function showFn(){
				oInp.style.display = 'block';
				oSpan.style.display = 'block';
			}
			function change(){
				oTxt.style.display = 'block';
				oEdit.style.display = 'block';
				oInp.style.display = 'none';
				oSpan.style.display = 'none';
			}
		}
		function g(sel){
			if(sel.charAt(0) == '.'){
				return document.getElementsByClassName(sel.substr(1));
			}else if(sel.charAt(0) == '#'){
				return document.getElementById(sel.substr(1));
			}
		}
		
	}
</script>
</head>
<body>
	<div id="wrap">
		<h3>分类名称</h3>
		<ul id="list">
			<li>
				<p>标题名称</p>
				<input type="text">
				<a href="javascript:;" class="edit">修改</a>
				<span>
					<a class="save" href="javascript:;">保存</a>
					<a class="cancel" href="javascript:;">取消</a>
				</span>
			</li>
			<li>
				<p>标题名称</p>
				<input type="text">
				<a href="javascript:;" class="edit">修改</a>
				<span>
					<a class="save" href="javascript:;">保存</a>
					<a class="cancel" href="javascript:;">取消</a>
				</span>
			</li>
			<li>
				<p>标题名称</p>
				<input type="text">
				<a href="javascript:;" class="edit">修改</a>
				<span>
					<a class="save" href="javascript:;">保存</a>
					<a class="cancel" href="javascript:;">取消</a>
				</span>
			</li>
		</ul>
		<p id="addlist"><a href="javascript:;">添加</a></p>
	</div>
</body>
</html>
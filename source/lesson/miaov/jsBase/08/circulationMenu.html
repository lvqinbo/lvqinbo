<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>菜单及列表循环播放</title>
<style>
body,ul{margin: 0; padding: 0; font-family: "微软雅黑";}
li{list-style: none;}
img{border: none;}

#wrap{width: 900px; padding: 10px; margin: 20px auto; border: 1px solid #ccc; overflow: hidden;}
.topList{height: 40px; background: #ccc; margin-bottom: 5px;}
.topList span{display: inline-block; float: left; width: 80px; height: 40px; line-height: 40px; text-align: center; background: #8B0A50;}
.main{width: 100%; height: 400px; clear: both; overflow: hidden;}
.main .img{width: 800px; height: 100%; border: 1px solid #fff;  float: left; overflow: hidden;}
.main .img img{max-width: 800px;}
.list{width: 90px; float: right;}
.list li{width: 100%; height: 50px; line-height: 50px; background: #7EC0EE; text-align: center; margin-bottom: 2px;}
.topList .active{background: #7FFF00;}
.list .cur{background: #00CD00;}
</style>
<script>
window.onload = function(){
	var oWrap = document.getElementById('wrap');
	var oTopDiv = getByClass(oWrap,'topList')[0];
	var aSpan = oTopDiv.getElementsByTagName('span');
	var oListDiv = getByClass(oWrap,'list')[0];
	var aUl = oListDiv.getElementsByTagName('ul');
	var aLi = oListDiv.getElementsByTagName('li');
	var oImg = document.getElementById('img');
	
	var timer = null;
	var iNum = 0;
	var arrUrl = ['img/1.jpg','img/2.jpg','img/3.jpg','img/4.jpg'];

	for (var i = 0; i < aLi.length; i++) {
		aLi[i].index = i;
		aLi[i].onmouseover = function(){
			iNum = this.index;
			clearInterval(timer);
			fnTab();
		}
		aLi[i].onmouseout = function(){
			autoMove();
		}
	};
	function autoMove(){
		timer = setInterval(function(){
			iNum++;
			if(iNum == aLi.length/2){
				aUl[0].style.display = 'none';
				aUl[1].style.display = 'block';
				aSpan[0].className = '';
				aSpan[1].className = 'active';
			}
			if(iNum == aLi.length){	
				iNum = 0;
				aUl[0].style.display = 'block';
				aUl[1].style.display = 'none';
				aSpan[0].className = 'active';
				aSpan[1].className = '';
			}
			fnTab();
		},3000);
	}
	autoMove();

	function fnTab(){
		for (var i = 0; i < aLi.length; i++) {
			aLi[i].className = '';
		};
		aLi[iNum].className = 'cur';
		oImg.src = arrUrl[iNum%arrUrl.length];
	}
}
function getByClass(oParent,sClass){
		var result = [];
		var eles = oParent.getElementsByTagName('*');
		for (var i = 0; i < eles.length; i++) {
			if(eles[i].className == sClass){
				result.push(eles[i]);
			}
		};
		return result;
	}
</script>
</head>
<body>
	<div id="wrap">
		<div class="topList">
			<span class="active">菜单1</span>
			<span>菜单2</span>
		</div>
		<div class="main">
			<div class="img">
				<img id="img" src="img/1.jpg">
			</div>
			<div class="list">
				<ul>
					<li class="cur">广告1</li>
					<li>广告2</li>
					<li>广告3</li>
					<li>广告4</li>
				</ul>
				<ul style="display:none;">
					<li>广告5</li>
					<li>广告6</li>
					<li>广告7</li>
					<li>广告8</li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>
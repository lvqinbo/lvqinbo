<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>全屏运动</title>
	<style>
	html,body,ul{margin: 0; padding: 0; }
	li{list-style: none;}
	img{border: none; vertical-align: top;}
	#wrap{height: 503px; position: relative; text-align: center; overflow: hidden;}
	#ul1{position: absolute; left: 0;}
	#ul1 li{float: left;}
	#ul1 img{position: relative; left: 0px;}
	#dot{margin: 0; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);}
	#dot span{width: 10px; height: 10px; display: inline-block; background: #ccc;}
	#dot .active{background: #f40;}
	</style>
	<script src="../../../js/doMove.js"></script>
	<script>
	window.onload = function(){
		var oUl = document.getElementById('ul1');
		var aLi = oUl.getElementsByTagName('li');
		var aImg = oUl.getElementsByTagName('img');
		var oP = document.getElementById('dot');
		var aSpan = oP.getElementsByTagName('span');

		var oneW = 1920;
		oUl.style.width = aLi.length * oneW + 'px';
		var iNow = iNow2 = 0;
		var timer = null;


		for (var i = 0; i < aSpan.length; i++) {
			aSpan[i].index = i;
			aSpan[i].onclick = function(){
				iNow = this.index;
				fnTab();
			}
		};

		fnTab();
		function fnTab(){

			for (var i = 0; i < aSpan.length; i++) {
				aSpan[i].className = '';
			};
			aSpan[iNow].className = 'active';
			doMove(oUl,{ left : -iNow * oneW });
				
		}

		function toRun(){
			
			if(iNow == aImg.length-1){
				aLi[0].style.position = 'relative';
				aLi[0].style.left = aLi.length * oneW + 'px';
				iNow = 0;
			}else{
				iNow++;
			}
			
			iNow2++;
			
			for (var i = 0; i < aSpan.length; i++) {
				aSpan[i].className = '';
			};
			aSpan[iNow].className = 'active';
			doMove(oUl,{ left : -iNow2 * oneW },function(){
				if(iNow == 0){
					aLi[0].style.position = 'static';
					oUl.style.left = 0;
					iNow2 = 0;
				}
			});
		}

		timer = setInterval(toRun,3000);

		oUl.onmouseover = function() {
			clearInterval(timer);
		}
		oUl.onmouseout = function() {
			timer = setInterval(toRun,3000);
		}

		function toResize(){
			var vW = document.documentElement.clientWidth;
			if(vW > 1000){

				for (var i = 0; i < aImg.length; i++) {
					aImg[i].style.left = -(aImg[i].offsetWidth - vW)/2 +'px';
				};
			}
		}
		toResize();

		window.onresize = function(){
			toResize();
		}

	}
	</script>
</head>
<body>
<div id="wrap">
	
	<ul id="ul1">
		<li><img src="img/slider1-bg.jpg" alt=""></li>
		<li><img src="img/slider2-bg.jpg" alt=""></li>
		<li><img src="img/slider3-bg.jpg" alt=""></li>
		<li><img src="img/slider4-bg.jpg" alt=""></li>
	</ul>
	<p id="dot">
		<span class="active"></span>
		<span></span>
		<span></span>
		<span></span>
	</p>
</div>
</body>
</html>